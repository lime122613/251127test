:root {
  --bg-start: #0f2b1d; /* deep evergreen */
  --bg-end: #4c1020; /* warm cranberry */
  --card: rgba(255,255,255,0.06);
  --accent: #ffd5b5;
  --accent-2: #ff6b6b;
  --muted: rgba(255,255,255,0.75);
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  color-scheme: dark;
}

* { box-sizing: border-box; }
html,body { height: 100%; margin: 0; }
body {
  background: radial-gradient(1200px 600px at 10% 10%, rgba(255,240,230,0.04), transparent),
              radial-gradient(800px 400px at 90% 90%, rgba(240,250,255,0.02), transparent),
              linear-gradient(160deg, var(--bg-start) 0%, #1b3b2c 30%, var(--bg-end) 100%);
  font-size: 16px;
  color: var(--muted);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2rem;
}

.app {
  width: 100%;
  max-width: 840px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));
  border-radius: 16px;
  box-shadow: 0 8px 30px rgba(2,6,23,0.6);
  overflow: hidden;
}

.app-header {
  padding: 1.25rem 1.5rem;
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(0,0,0,0.03));
  border-bottom: 1px solid rgba(255,255,255,0.03);
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.app-header h1 { margin: 0; font-size: 1.4rem; color: var(--accent); letter-spacing: -0.5px; }
.key-status { font-size: 0.9rem; color: var(--muted); }

.chat-wrap { padding: 1rem 1.25rem 1.5rem 1.25rem; }
.messages { list-style: none; padding: 0; margin: 0 0 1rem 0; max-height: 52vh; overflow: auto; display:flex; flex-direction:column; gap:0.6rem; }

.message { max-width: 80%; padding: 0.75rem 1rem; border-radius: 12px; line-height: 1.4; box-shadow: 0 4px 18px rgba(2,6,23,0.4); }
.message.user { margin-left: auto; background: linear-gradient(180deg,#2b6a4a,#1f4b36); color: white; border-bottom-right-radius:4px; }
.message.bot { margin-right: auto; background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02)); color: var(--muted); border-bottom-left-radius:4px; }

.chat-form { display:flex; flex-direction: column; gap:0.6rem; }
.user-input { width: 100%; resize: vertical; min-height:48px; max-height:160px; padding:0.8rem 1rem; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background: rgba(0,0,0,0.12); color: var(--muted); font-size:1rem; }

.controls { display:flex; gap:0.6rem; justify-content:flex-end; }
.btn { background: linear-gradient(180deg,var(--accent),var(--accent-2)); color:#2b2221; border:none; padding:0.6rem 0.9rem; border-radius:10px; cursor:pointer; font-weight:600; }
.btn.ghost { background: transparent; border:1px solid rgba(255,255,255,0.06); color:var(--muted); }
.btn:active { transform: translateY(1px); }

.note { margin-top:0.6rem; font-size:0.85rem; color: rgba(255,255,255,0.6); }

code { background: rgba(255,255,255,0.02); padding: 0.08rem 0.35rem; border-radius:4px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', monospace; }

@media (max-width:600px) {
  .app { border-radius: 12px; }
  .app-header h1 { font-size: 1.1rem; }
}

/* subtle snow speckles */
body::after {
  content:'';
  pointer-events: none;
  position: fixed; inset: 0; z-index: 0;
  background-image: radial-gradient(white 1px, transparent 1px);
  background-size: 14px 14px;
  opacity: 0.03;
}
